<div class="row m-4">
  <div class="col col-lg-1">
    <sofka-back-button [routeBack]="routeDashboard"></sofka-back-button>
  </div>
</div>
<div class="col m-5 mt-0 text-light">
  <div class="row">
    <div class="col">
      <h2 class="mb-4">Inscriptions pending</h2>
    </div>
    <div class=" table-responsive">
      <table class="table table-dark table-hover">
        <caption>
          Inscriptions pending
        </caption>
        <thead class="text-center">
          <tr class=" text-light">
            <th scope="col">Inscription date</th>
            <th scope="col">State</th>
            <th scope="col">Actions</th>
          </tr>
        </thead>
        <tbody class="table-group-divider text-light text-center">
          <tr *ngIf=" empty;else datos" class="text-center">
            <th colspan="3">No hay elementos para mostrar</th>
          </tr>
          <ng-template #datos class="text-light">
            <tr *ngFor="let item of inscriptionsList">
              <td>{{item.createdAt | date }}</td>
              <td>{{item.stateInscription | enumsNumberToStringPipe: 'stateInscription' }}</td>
              <td>
                <button *sofkaShowForRoles="[1]" class="btn btn-sm btn-outline-info text-light shadow me-1"
                  data-bs-toggle="modal" data-bs-target="#modal-inscription" (click)="modal(item.inscriptionID)">
                  <i class="bi bi-question-lg"></i>
                </button>
                <!-- <button *sofkaShowForRoles="[1]" class="btn btn-sm btn-outline-pink text-light shadow me-1"
                  data-bs-toggle="modal" data-bs-target="#modal-complete" (click)="modal(item.projectID, item.name)"
                  [hidden]="item.phase === null || item.stateProject !== 0">
                  <i class=" bi bi-folder2"></i>
                </button>
                <button class="btn btn-sm btn-outline-info text-light shadow me-1"
                  [routerLink]="['../detail', item.projectID]">
                  <i class=" bi bi-eye"></i>
                </button>
                <button *sofkaShowForRoles="[2]" class="btn btn-sm btn-outline-teal text-light shadow me-1"
                  data-bs-toggle="modal" data-bs-target="#modal-inscription" (click)="modal(item.projectID, item.name)">
                  <i class=" bi bi-person-plus"></i>
                </button>
                <button *sofkaShowForRoles="[1]"
                  class="btn btn-sm btn-outline-warning bg-opacity-75 me-1 text-light shadow"
                  [routerLink]="['../update', item.projectID]"
                  [hidden]="item.openDate === null || item.completedAt !== null">
                  <i class="bi bi-pencil-fill"></i>
                </button>
                <button *sofkaShowForRoles="[1]" class="btn btn-sm btn-outline-danger text-light shadow"
                  data-bs-toggle="modal" data-bs-target="#modal-delete" (click)="modal(item.projectID, item.name)">
                  <i class="bi bi-trash3"></i>
                </button> -->
              </td>
            </tr>
          </ng-template>
        </tbody>
      </table>
    </div>
  </div>
</div>

<!-- Modal Respond Inscription -->
<div class="modal fade" id="modal-inscription" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header bg-dark text-light">
        <h1 class="modal-title fs-5" id="update"> Please choose a response
        </h1>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body bg-dark text-light">
        <form id="frmInscription" (ngSubmit)="respondInscription()" [formGroup]="frmInscription">
          <select class="form-control bg-dark text-light" name="stateInscription" id="stateInscription"
            formControlName="stateInscription">
            <option value="" selected>Choose one...</option>
            <option value="1">Approved</option>
            <option value="2">Denied</option>
          </select>
          <div class="alert alert-danger p-1 m-1 mt-1 ms-2 w-50" role="alert"
            *ngIf="frmInscription.get('stateInscription')?.hasError('required') && frmInscription.get('stateInscription')?.touched">
            Choose a state.
          </div>
        </form>
      </div>
      <div class="modal-footer bg-dark text-light">
        <a type="button" class="btn btn-outline-secondary text-light" data-bs-dismiss="modal">Close</a>
        <button type="submit" form="frmInscription" [disabled]="frmInscription.invalid"
          class="btn btn-outline-info text-light" data-bs-dismiss="modal">Respond</button>
      </div>
    </div>
  </div>
</div>